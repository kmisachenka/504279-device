var moreAboutUsLink=document.querySelector(".more-about-us"),contacts=document.querySelector(".modal-contact"),overlay=document.querySelector(".modal-overlay"),closeContactsButton=contacts.querySelector(".modal-close"),contactsForm=contacts.querySelector(".contact-form"),loginInput=contacts.querySelector("[name=login]"),emailInput=contacts.querySelector("[name=email]"),textInput=contacts.querySelector("[name=text]"),inputs=contacts.querySelectorAll(".contact-item__input"),mapLink=document.querySelector(".map-link"),mapModal=document.querySelector(".modal-map"),mapClose=mapModal.querySelector(".modal-close"),removeElementClassIfExist=function(e,t){e.classList.contains(t)&&e.classList.remove(t)},showOverlay=function(){overlay.classList.add("modal-overlay--show")},hideOverlay=function(){overlay.classList.remove("modal-overlay--show")},showModal=function(e){e.classList.add("modal-show"),showOverlay()},hideModal=function(e){e.classList.remove("modal-show"),hideOverlay()},clearInputs=function(){for(var e=0;e<inputs.length;e++)inputs[e].value&&(inputs[e].value=""),removeElementClassIfExist(inputs[e],"contact-item__input--error")},hideOverlayIfActive=function(e){e.classList.contains("modal-show")&&hideModal(e)};window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),hideOverlayIfActive(contacts),hideOverlayIfActive(mapModal),clearInputs())}),overlay.addEventListener("click",function(e){e.preventDefault(),hideOverlayIfActive(contacts),hideOverlayIfActive(mapModal),clearInputs()}),moreAboutUsLink.addEventListener("click",function(e){e.preventDefault(),showModal(contacts),loginInput.focus()}),closeContactsButton.addEventListener("click",function(e){e.preventDefault(),hideModal(contacts),removeElementClassIfExist(contacts,"modal-error"),clearInputs()});var highlightIfInvalid=function(e){var t=e.value;t&&0!==t.length||e.classList.add("contact-item__input--error")};contactsForm.addEventListener("submit",function(e){loginInput.value&&emailInput.value&&textInput.value||(e.preventDefault(),contacts.classList.remove("modal-error"),contacts.offsetWidth,contacts.classList.add("modal-error"),highlightIfInvalid(loginInput),highlightIfInvalid(emailInput),highlightIfInvalid(textInput))}),mapLink.addEventListener("click",function(e){e.preventDefault(),showModal(mapModal)}),mapClose.addEventListener("click",function(e){e.preventDefault(),hideModal(mapModal)});var deliveryButton=document.querySelector(".delivery"),warrantyButton=document.querySelector(".warranty"),creditButton=document.querySelector(".credit"),deliveryItem=document.querySelector(".service-item--delivery"),warrantyItem=document.querySelector(".service-item--warranty"),creditItem=document.querySelector(".service-item--credit"),deactivateButtons=function(){[deliveryButton,warrantyButton,creditButton].map(function(e){e.classList.remove("services-button--active")}),[deliveryItem,warrantyItem,creditItem].map(function(e){e.classList.remove("services-item--active")})},activateButtonOnClick=function(e,t){e.addEventListener("click",function(o){o.preventDefault(),deactivateButtons(),e.classList.add("services-button--active"),t.classList.add("services-item--active")})};activateButtonOnClick(deliveryButton,deliveryItem),activateButtonOnClick(warrantyButton,warrantyItem),activateButtonOnClick(creditButton,creditItem);var selfieInput=document.querySelector(".promo-slider__input--selfie");selfieInput.classList.add("promo-slider__input--checked");var flushSliderState=function(){for(var e=document.querySelectorAll(".promo-item--active .promo-slider__input"),t=0;t<e.length;t++)removeElementClassIfExist(e[t],"promo-slider__input--checked");for(var o=document.querySelectorAll(".promo-item"),r=0;r<o.length;r++)removeElementClassIfExist(o[r],"promo-item--active")},slider=function(){var e=document.querySelector(".promo-item--active"),t=e.querySelector(".promo-slider__input--selfie"),o=document.querySelector(".promo-selfie"),r=e.querySelector(".promo-slider__input--fitness-tracker"),i=document.querySelector(".promo-fitness-tracker"),n=e.querySelector(".promo-slider__input--drone"),c=document.querySelector(".promo-drone");t.addEventListener("click",function(t){t.preventDefault(),flushSliderState(),o.classList.add("promo-item--active"),(e=document.querySelector(".promo-item--active")).querySelector(".promo-slider__input--selfie").classList.add("promo-slider__input--checked"),slider()}),r.addEventListener("click",function(t){t.preventDefault(),flushSliderState(),i.classList.add("promo-item--active"),(e=document.querySelector(".promo-item--active")).querySelector(".promo-slider__input--fitness-tracker").classList.add("promo-slider__input--checked"),slider()}),n.addEventListener("click",function(t){t.preventDefault(),flushSliderState(),c.classList.add("promo-item--active"),(e=document.querySelector(".promo-item--active")).querySelector(".promo-slider__input--drone").classList.add("promo-slider__input--checked"),slider()})};slider();
